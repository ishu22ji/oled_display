// simple project using Arduino UNO and 128x64 SSD1306 IIC OLED Display, created by upir, 2023
// youtube channel: https://www.youtube.com/upir_upir

// YOUTUBE VIDEO: https://youtu.be/Eyvzw_ujcS0
// WOKWI sketch: https://wokwi.com/projects/372481402319579137
// More videos with Arduino UNO and OLED screens: https://www.youtube.com/playlist?list=PLjQRaMdk7pBZ1UV3IL5ol8Qc7R9k-kwXA

// Links from the video:
// Lopaka editor: https://lopaka.app/
// 128x64 SSD1306 OLED Display 1.54": https://s.click.aliexpress.com/e/_DCYdWXb 
// 128x64 SSD1306 OLED Display 0.96": https://s.click.aliexpress.com/e/_DCKdvnh
// 128x64 SSD1306 OLED Display 2.42": https://s.click.aliexpress.com/e/_DFdMoTh
// Arduino UNO: https://s.click.aliexpress.com/e/_AXDw1h

#include <Arduino.h>
#include <U8g2lib.h>

#include <Wire.h> // library requires for IIC communication

U8G2_SSD1306_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE); // initialization for the used OLED display

// images from https://lopaka.app/
//static const unsigned char image_FaceCharging_29x14_bits[] U8X8_PROGMEM = {0x40,0x00,0x00,0x02,0x60,0x00,0x00,0x03,0x30,0x00,0x80,0x01,0x18,0x00,0xc0,0x00,0xfc,0x00,0xe0,0x07,0xfc,0x00,0xe0,0x07,0x60,0x00,0x00,0x03,0x30,0x00,0x80,0x01,0x18,0x00,0xc0,0x00,0x08,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x00,0x00,0x08,0x02,0x00,0x00,0xf0,0x01,0x00};
static const unsigned char image_Warning_30x23_bits[] U8X8_PROGMEM = {0x00,0xc0,0x00,0x00,0x00,0xe0,0x01,0x00,0x00,0xf0,0x03,0x00,0x00,0xf0,0x03,0x00,0x00,0xf8,0x07,0x00,0x00,0x3c,0x0f,0x00,0x00,0x3c,0x0f,0x00,0x00,0x3e,0x1f,0x00,0x00,0x3f,0x3f,0x00,0x00,0x3f,0x3f,0x00,0x80,0x3f,0x7f,0x00,0xc0,0x3f,0xff,0x00,0xc0,0x3f,0xff,0x00,0xe0,0x3f,0xff,0x01,0xf0,0x3f,0xff,0x03,0xf0,0x3f,0xff,0x03,0xf8,0x3f,0xff,0x07,0xfc,0xff,0xff,0x0f,0xfc,0xff,0xff,0x0f,0xfe,0x3f,0xff,0x1f,0xff,0x3f,0xff,0x3f,0xff,0xff,0xff,0x3f,0xfe,0xff,0xff,0x1f};

int progress = 0; // progress of the progressbar
char buffer[32]; // helper buffer to construct a string to be displayed

void setup(void) {
  u8g2.begin(); // start the u8g2 library
}

void loop(void) {
  u8g2.clearBuffer();					// clear the internal memory

  // code from https://lopaka.app
u8g2.setBitmapMode(1);
u8g2.setFontMode(1);
u8g2.setFont(u8g2_font_helvB08_tr);
sprintf(buffer, "Progress: %d%%", progress); // construct a string with the progress variable
u8g2.drawStr(28, 58, buffer); // display the string
u8g2.drawFrame(12, 28, 104, 20);
u8g2.drawBox(14, 30, progress, 16); //
u8g2.drawXBMP( 2, 4, 30, 23, image_Warning_30x23_bits);
u8g2.setFont(u8g2_font_profont22_tr);
u8g2.drawStr(37, 20, "Hacking");


  u8g2.sendBuffer();					// transfer internal memory to the display
  
  // increase the progress value to go over 0-100
	progress = progress + 1;
	if (progress > 100) {
		progress = 0;
	}
}

